---
title: Certificates
description: Generate and manage SSL/TLS certificates
navigation:
  icon: i-lucide-file-badge
---

# Certificates

## Generate Self-Signed Certificate

Generate a self-signed certificate valid for 365 days:

```bash
openssl req -x509 -newkey rsa:4096 -keyout key.pem -out cert.pem -days 365 -nodes
```

With subject info inline (non-interactive):

```bash
openssl req -x509 -newkey rsa:4096 -keyout key.pem -out cert.pem -days 365 -nodes \
  -subj "/C=US/ST=State/L=City/O=Organization/CN=example.com"
```

## Generate Certificate Signing Request (CSR)

Create a CSR from an existing private key:

```bash
openssl req -new -key private.key -out request.csr
```

Generate new key and CSR together:

```bash
openssl req -new -newkey rsa:4096 -nodes -keyout private.key -out request.csr
```

Generate CSR and key with config file and subject (production use):

```bash
openssl req -new -newkey rsa:2048 \
  -out domain.csr \
  -keyout domain.key \
  -config domain.conf \
  -subj "/C=US/ST=California/L=San Francisco/O=Company Inc./CN=domain.example.com" \
  -nodes -sha256
```

## View Certificate Details

View certificate information:

```bash
openssl x509 -in cert.pem -text -noout
```

View only specific fields:

```bash
# Subject and issuer
openssl x509 -in cert.pem -subject -issuer -noout

# Expiration dates
openssl x509 -in cert.pem -dates -noout

# Serial number
openssl x509 -in cert.pem -serial -noout
```

## View CSR Details

```bash
openssl req -in request.csr -text -noout
```

## Verify CSR, Key, and Certificate Match

After certificate approval, verify all files match by comparing MD5 checksums:

```bash
# CSR modulus
openssl req -noout -modulus -in domain.csr | openssl md5

# Private key modulus
openssl rsa -noout -modulus -in domain.key | openssl md5

# Certificate modulus
openssl x509 -noout -modulus -in domain.crt | openssl md5
```

All three commands should output the same MD5 hash if the files match.

## Convert Certificate Formats

PEM to DER:

```bash
openssl x509 -in cert.pem -outform DER -out cert.der
```

DER to PEM:

```bash
openssl x509 -in cert.der -inform DER -outform PEM -out cert.pem
```

PEM to PKCS#12 (PFX):

```bash
openssl pkcs12 -export -out cert.pfx -inkey key.pem -in cert.pem
```

::callout{type="info"}
When generating PFX for automated systems, you can skip the passphrase by pressing Enter when prompted.
::

PKCS#12 to PEM:

```bash
openssl pkcs12 -in cert.pfx -out cert.pem -nodes
```

## Convert PFX to Base64

Generate PFX then convert to base64 (useful for storing in environment variables or secrets):

```bash
# Generate PFX file
openssl pkcs12 -export -out domain.pfx -inkey domain.key -in domain.crt

# Convert to base64
openssl base64 -in domain.pfx -out domain.base64
```

Convert base64 to hex:

```bash
cat domain.base64 | od -A n -t x1 | sed 's/ *//g' | tr -d '\n'
```

## Check Certificate Expiration

```bash
openssl x509 -in cert.pem -checkend 86400 -noout
# Returns 0 if valid for next 24 hours, 1 if expiring
```

Get expiration date:

```bash
openssl x509 -in cert.pem -enddate -noout
```
